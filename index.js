(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=o(l);fetch(l.href,r)}})();let E=null,L=null,f=null,p=null,g=null,k=null;const A=document.querySelectorAll("nav .nav-item"),x=document.querySelector(".mobile-menu"),Y=document.querySelector("section.hero"),T=document.querySelector("section.main div.main"),_=document.querySelector(".route .title"),v=document.querySelector(".route .separator"),h=document.querySelector(".route .category-title"),m=document.querySelector(".filters .search-bar"),O=document.querySelector(".filters .categories"),u=document.querySelector("section.main .results .categories"),c=document.querySelector("section.main .results .exercises"),d=document.querySelector("section.main .results .favorites"),y=document.querySelector("section.main .results .paginator"),G=document.querySelector("#super-hidden .exercise"),a=document.querySelector("#exercise-overlay"),S=document.querySelector("#rate-overlay");function C(e){E!==e&&(E=e,A.forEach(t=>{t.classList.remove("active");const o=t.firstElementChild.textContent,n=e.charAt(0).toUpperCase()+e.slice(1);o===n&&t.classList.add("active")}),Y.style.display=e==="home"?"":"none",_.textContent=e==="home"?"Exercises":"Favorites",e==="home"?(T.classList.remove("fav"),d.style.display="none",O.style.display="flex",f!==null?(u.style.display="none",c.style.display="grid",m.style.display="flex",v.style.display="block",h.style.display="block"):(u.style.display="grid",c.style.display="none",m.style.display="none",v.style.display="none",h.style.display="none")):(T.classList.add("fav"),u.style.display="none",c.style.display="none",d.style.display="grid",O.style.display="none",m.style.display="none",v.style.display="none",h.style.display="none",P(1).then(t=>w(t))))}async function b(e,t){if(L===e)return;L=e,f=null,g=null,m.firstElementChild.value="",m.style.display="none",u.style.display="grid",c.style.display="none",v.style.display="none",h.style.display="none",Array.from(O.children).forEach(n=>{n.classList.remove("active"),n.textContent==="Muscles"&&e==="muscles"&&n.classList.add("active"),n.textContent==="Body parts"&&e==="bodypart"&&n.classList.add("active"),n.textContent==="Equipment"&&e==="equipment"&&n.classList.add("active")});const o=await J(e,1);w(o)}async function J(e,t){let o;e==="muscles"&&(o="Muscles"),e==="bodypart"&&(o="Body%20parts"),e==="equipment"&&(o="Equipment");const l=await(await fetch(`https://your-energy.b.goit.study/api/filters?page=${t}&limit=12&filter=${o}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();for(;u.firstChild;)u.removeChild(u.firstChild);return l.results.forEach(r=>{const s=document.createElement("a");s.style.backgroundImage="url("+r.imgURL+")",s.addEventListener("click",()=>B(r.name));const i=document.createElement("span");i.textContent=r.name.charAt(0).toUpperCase()+r.name.slice(1),s.appendChild(i);const I=document.createElement("span");I.textContent=r.filter,s.appendChild(I),u.appendChild(s)}),l.totalPages}async function B(e){f=e,u.style.display="none",c.style.display="grid",v.style.display="block",h.style.display="block",m.style.display="flex",h.textContent=e.charAt(0).toUpperCase()+e.slice(1);const t=await j(e,1,g);w(t)}async function j(e,t,o){const n=`https://your-energy.b.goit.study/api/exercises?${L}=${e}&page=${t!==null?t:1}&limit=10${o!=null?"&keyword="+o:""}`,r=await(await fetch(n,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();for(;c.firstChild;)c.removeChild(c.firstChild);if(r.results.length===0){const s=document.createElement("p");s.classList.add("no-results"),s.textContent="Your search query yilded no results...",c.appendChild(s)}else r.results.forEach(s=>{const i=G.cloneNode(!0);i.addEventListener("click",()=>R(s)),i.querySelector(".rating p").textContent=s.rating,i.querySelector(".exercise-title").textContent=s.name.charAt(0).toUpperCase()+s.name.slice(1),i.querySelector(".third > :nth-child(1) > :last-child").textContent=s.burnedCalories,i.querySelector(".third > :nth-child(2) > :last-child").textContent=s.bodyPart,i.querySelector(".third > :nth-child(3) > :last-child").textContent=s.target,c.appendChild(i)});return r.totalPages}async function P(e){const t=JSON.parse(localStorage.getItem("favorites"))||{};for(;d.firstChild;)d.removeChild(d.firstChild);const o=document.createElement("p");if(o.classList.add("no-results"),Object.keys(t).length===0)return o.textContent="It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.",d.appendChild(o),0;o.textContent="Loading...",d.appendChild(o);let n=[];Object.keys(t).slice(10*(e-1),10*e).forEach(r=>{const s=`https://your-energy.b.goit.study/api/exercises/${r}`;n.push(fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}))}),n=await Promise.all(n);let l=[];return n.forEach(r=>l.push(r.json())),l=await Promise.all(l),d.removeChild(d.firstChild),l.forEach(r=>{const s=G.cloneNode(!0);s.addEventListener("click",()=>R(r)),s.querySelector(".exercise-title").textContent=r.name.charAt(0).toUpperCase()+r.name.slice(1),s.querySelector(".third > :nth-child(1) > :last-child").textContent=r.burnedCalories,s.querySelector(".third > :nth-child(2) > :last-child").textContent=r.bodyPart,s.querySelector(".third > :nth-child(3) > :last-child").textContent=r.target,d.appendChild(s)}),Math.ceil(Object.keys(t).length/10)}function w(e){if(p=1,e<2){y.style.display="none";return}for(y.style.display="";y.firstChild;)y.removeChild(y.firstChild);for(let t=1;t<=e;t++){const o=document.createElement("a");o.textContent=t,o.setAttribute("aria-label",`Enter page ${t}`),t===1&&o.classList.add("active"),o.addEventListener("click",async()=>{t!==p&&(Array.from(y.children)[p-1].classList.remove("active"),Array.from(y.children)[t-1].classList.add("active"),p=t,E==="home"?f==null?await J(L,t):await j(f,t,g):await P(t),T.querySelector(".results").scrollIntoView({behavior:"smooth",block:"start"}))}),y.appendChild(o)}}function R(e){a.querySelector(".exercise-image").setAttribute("src",e.gifUrl),a.querySelector(".title").textContent=e.name.charAt(0).toUpperCase()+e.name.slice(1),a.querySelector(".rating p").textContent=e.rating,a.querySelector(".params > :nth-child(1) > :last-child").textContent=e.target,a.querySelector(".params > :nth-child(2) > :last-child").textContent=e.bodyPart,a.querySelector(".params > :nth-child(3) > :last-child").textContent=e.equipment,a.querySelector(".params > :nth-child(4) > :last-child").textContent=e.popularity,a.querySelector(".params > :nth-child(5) > :last-child").textContent=e.burnedCalories,a.querySelector(".description").textContent=e.description;const t=JSON.parse(localStorage.getItem("favorites"))||{},o=e._id;k=o;const n=a.querySelector(".buttons :first-child");Object.hasOwn(t,o)?(n.classList.add("remove"),n.classList.remove("add"),n.firstElementChild.textContent="Remove favorite"):(n.classList.add("add"),n.classList.remove("remove"),n.firstElementChild.textContent="Add to favorites");function l(i){n.classList.contains("add")?(t[o]=!0,n.classList.add("remove"),n.classList.remove("add"),n.firstElementChild.textContent="Remove favorite"):(delete t[o],n.classList.add("add"),n.classList.remove("remove"),n.firstElementChild.textContent="Add to favorites"),localStorage.setItem("favorites",JSON.stringify(t)),E==="favorites"&&P(p)}function r(i){K()}function s(i){i.target===i.currentTarget&&(a.removeEventListener("click",s),a.querySelector(".close-icon img").removeEventListener("click",s),n.removeEventListener("click",l),a.querySelector(".buttons .rate").removeEventListener("click",r),a.style.display="none",k=null)}a.addEventListener("click",s),a.querySelector(".close-icon img").addEventListener("click",s),n.addEventListener("click",l),a.querySelector(".buttons .rate").addEventListener("click",r),a.style.display="flex"}function K(){a.style.display="none",S.style.display="flex",document.querySelector("#rate-overlay form").reset();function e(t){t.target===t.currentTarget&&(a.removeEventListener("click",e),a.querySelector(".close-icon img").removeEventListener("click",e),a.style.display="flex",S.style.display="none")}S.addEventListener("click",e),S.querySelector(".close-icon img").addEventListener("click",e)}A[0].addEventListener("click",()=>C("home"));A[1].addEventListener("click",()=>C("favorites"));document.querySelector(".category-toggle-muscles").addEventListener("click",()=>b("muscles"));document.querySelector(".category-toggle-bodypart").addEventListener("click",()=>b("bodypart"));document.querySelector(".category-toggle-equipment").addEventListener("click",()=>b("equipment"));document.querySelector("nav .nav-menu-toggle").addEventListener("click",()=>{x.style.display="flex"});document.querySelector(".close-mobile-menu").addEventListener("click",()=>{x.style.display="none"});document.querySelector(".mobile-middle").firstElementChild.firstElementChild.addEventListener("click",()=>{C("home"),x.style.display="none"});document.querySelector(".mobile-middle").lastElementChild.firstElementChild.addEventListener("click",()=>{C("favorites"),x.style.display="none"});let N;m.firstElementChild.addEventListener("input",e=>{for(clearTimeout(N);c.firstChild;)c.removeChild(c.firstChild);const t=document.createElement("p");t.classList.add("no-results"),t.textContent="Loading...",c.appendChild(t),N=setTimeout(async()=>{g=e.target.value.trim();const o=await j(f,p,g);w(o)},1e3)});document.querySelector("footer form").addEventListener("submit",async e=>{e.preventDefault();const t=document.querySelector("footer #email").value;try{const o=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t})}),n=await o.json();if(!o.ok)throw new Error(n.message||"Something went wrong, please try again");alert(n.message),document.querySelector("footer form").reset()}catch(o){alert(o)}});let U;const q=document.querySelector("#rate-overlay #rating");q.addEventListener("input",()=>{clearTimeout(U),U=setTimeout(()=>{let e=parseFloat(q.value);if(isNaN(e)){q.value="";return}e=Math.min(Math.max(e,0),5),q.value=e.toFixed(2)},1e3)});document.querySelector("#rate-overlay form").addEventListener("submit",async e=>{e.preventDefault();const t=document.querySelector("#rate-overlay #email2").value,o=parseFloat(document.querySelector("#rate-overlay #rating").value),n=document.querySelector("#rate-overlay #comment").value;try{const l=await fetch(`https://your-energy.b.goit.study/api/exercises/${k}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({rate:o,email:t,review:n})}),r=await l.json();if(!l.ok)throw new Error(r.message||"Something went wrong, please try again");alert("Your feedback has been accepted. Thank you for contributing to our community!"),document.querySelector("#rate-overlay form").reset()}catch(l){alert(l)}});C("home");b("muscles");const M="dailyQuote",Q="dailyQuoteDate";function $({quote:e,author:t}){document.querySelector(".quote .quote-text").textContent=e,document.querySelector(".quote .quote-author").textContent=t}function H(e){const t=new Date().toISOString().split("T")[0];return e===t}const D=localStorage.getItem(M),F=localStorage.getItem(Q);D&&F&&H(F)?$(JSON.parse(D)):fetch("https://your-energy.b.goit.study/api/quote",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(e=>e.json()).then(e=>{$(e),localStorage.setItem(M,JSON.stringify(e)),localStorage.setItem(Q,new Date().toISOString().split("T")[0])}).catch(console.error);
//# sourceMappingURL=index.js.map
