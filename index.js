(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();let q=null,x=null,f=null,p=null,g=null,w=null;const O=document.querySelectorAll("nav .nav-item"),L=document.querySelector(".mobile-menu"),Q=document.querySelector("section.hero"),T=document.querySelector("section.main div.main"),Y=document.querySelector(".route .title"),v=document.querySelector(".route .separator"),h=document.querySelector(".route .category-title"),m=document.querySelector(".filters .search-bar"),k=document.querySelector(".filters .categories"),u=document.querySelector("section.main .results .categories"),c=document.querySelector("section.main .results .exercises"),d=document.querySelector("section.main .results .favorites"),y=document.querySelector("section.main .results .paginator"),F=document.querySelector("#super-hidden .exercise"),a=document.querySelector("#exercise-overlay"),S=document.querySelector("#rate-overlay");function C(e){q!==e&&(q=e,O.forEach(t=>{t.classList.remove("active");const n=t.firstElementChild.textContent,o=e.charAt(0).toUpperCase()+e.slice(1);n===o&&t.classList.add("active")}),Q.style.display=e==="home"?"":"none",Y.textContent=e==="home"?"Exercises":"Favorites",e==="home"?(T.classList.remove("fav"),d.style.display="none",k.style.display="flex",f!==null?(u.style.display="none",c.style.display="grid",m.style.display="flex",v.style.display="block",h.style.display="block"):(u.style.display="grid",c.style.display="none",m.style.display="none",v.style.display="none",h.style.display="none")):(T.classList.add("fav"),u.style.display="none",c.style.display="none",d.style.display="grid",k.style.display="none",m.style.display="none",v.style.display="none",h.style.display="none",j(1).then(t=>b(t))))}async function _(e,t){if(x===e)return;x=e,f=null,g=null,m.firstElementChild.value="",m.style.display="none",u.style.display="grid",c.style.display="none",v.style.display="none",h.style.display="none",Array.from(k.children).forEach(o=>{o.classList.remove("active"),o.textContent==="Muscles"&&e==="muscles"&&o.classList.add("active"),o.textContent,o.textContent});const n=await G(e,1);b(n)}async function G(e,t){let n;e==="muscles"&&(n="Muscles"),e==="bodypart"&&(n="Body%20parts"),e==="equipment"&&(n="Equipment");const l=await(await fetch(`https://your-energy.b.goit.study/api/filters?page=${t}&limit=12&filter=${n}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();for(;u.firstChild;)u.removeChild(u.firstChild);return l.results.forEach(r=>{const s=document.createElement("a");s.style.backgroundImage="url("+r.imgURL+")",s.addEventListener("click",()=>B(r.name));const i=document.createElement("span");i.textContent=r.name.charAt(0).toUpperCase()+r.name.slice(1),s.appendChild(i);const P=document.createElement("span");P.textContent=r.filter,s.appendChild(P),u.appendChild(s)}),l.totalPages}async function B(e){f=e,u.style.display="none",c.style.display="grid",v.style.display="block",h.style.display="block",m.style.display="flex",h.textContent=e.charAt(0).toUpperCase()+e.slice(1);const t=await A(e,1,g);b(t)}async function A(e,t,n){const o=`https://your-energy.b.goit.study/api/exercises?${x}=${e}&page=${t!==null?t:1}&limit=10${n!=null?"&keyword="+n:""}`,r=await(await fetch(o,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();for(;c.firstChild;)c.removeChild(c.firstChild);if(r.results.length===0){const s=document.createElement("p");s.classList.add("no-results"),s.textContent="Your search query yilded no results...",c.appendChild(s)}else r.results.forEach(s=>{const i=F.cloneNode(!0);i.addEventListener("click",()=>J(s)),i.querySelector(".rating p").textContent=s.rating,i.querySelector(".exercise-title").textContent=s.name.charAt(0).toUpperCase()+s.name.slice(1),i.querySelector(".third > :nth-child(1) > :last-child").textContent=s.burnedCalories,i.querySelector(".third > :nth-child(2) > :last-child").textContent=s.bodyPart,i.querySelector(".third > :nth-child(3) > :last-child").textContent=s.target,c.appendChild(i)});return r.totalPages}async function j(e){const t=JSON.parse(localStorage.getItem("favorites"))||{};for(;d.firstChild;)d.removeChild(d.firstChild);const n=document.createElement("p");if(n.classList.add("no-results"),Object.keys(t).length===0)return n.textContent="It appears that you haven't added any exercises to your favorites yet. To get started, you can add exercises that you like to your favorites for easier access in the future.",d.appendChild(n),0;n.textContent="Loading...",d.appendChild(n);let o=[];Object.keys(t).slice(10*(e-1),10*e).forEach(r=>{const s=`https://your-energy.b.goit.study/api/exercises/${r}`;o.push(fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}))}),o=await Promise.all(o);let l=[];return o.forEach(r=>l.push(r.json())),l=await Promise.all(l),d.removeChild(d.firstChild),l.forEach(r=>{const s=F.cloneNode(!0);s.addEventListener("click",()=>J(r)),s.querySelector(".exercise-title").textContent=r.name.charAt(0).toUpperCase()+r.name.slice(1),s.querySelector(".third > :nth-child(1) > :last-child").textContent=r.burnedCalories,s.querySelector(".third > :nth-child(2) > :last-child").textContent=r.bodyPart,s.querySelector(".third > :nth-child(3) > :last-child").textContent=r.target,d.appendChild(s)}),Math.ceil(Object.keys(t).length/10)}function b(e){if(p=1,e<2){y.style.display="none";return}for(y.style.display="";y.firstChild;)y.removeChild(y.firstChild);for(let t=1;t<=e;t++){const n=document.createElement("a");n.textContent=t,n.setAttribute("aria-label",`Enter page ${t}`),t===1&&n.classList.add("active"),n.addEventListener("click",async()=>{t!==p&&(Array.from(y.children)[p-1].classList.remove("active"),Array.from(y.children)[t-1].classList.add("active"),p=t,q==="home"?f==null?await G(x,t):await A(f,t,g):await j(t),T.querySelector(".results").scrollIntoView({behavior:"smooth",block:"start"}))}),y.appendChild(n)}}function J(e){a.querySelector(".exercise-image").setAttribute("src",e.gifUrl),a.querySelector(".title").textContent=e.name.charAt(0).toUpperCase()+e.name.slice(1),a.querySelector(".rating p").textContent=e.rating,a.querySelector(".params > :nth-child(1) > :last-child").textContent=e.target,a.querySelector(".params > :nth-child(2) > :last-child").textContent=e.bodyPart,a.querySelector(".params > :nth-child(3) > :last-child").textContent=e.equipment,a.querySelector(".params > :nth-child(4) > :last-child").textContent=e.popularity,a.querySelector(".params > :nth-child(5) > :last-child").textContent=e.burnedCalories,a.querySelector(".description").textContent=e.description;const t=JSON.parse(localStorage.getItem("favorites"))||{},n=e._id;w=n;const o=a.querySelector(".buttons :first-child");Object.hasOwn(t,n)?(o.classList.add("remove"),o.classList.remove("add"),o.firstElementChild.textContent="Remove favorite"):(o.classList.add("add"),o.classList.remove("remove"),o.firstElementChild.textContent="Add to favorites");function l(i){o.classList.contains("add")?(t[n]=!0,o.classList.add("remove"),o.classList.remove("add"),o.firstElementChild.textContent="Remove favorite"):(delete t[n],o.classList.add("add"),o.classList.remove("remove"),o.firstElementChild.textContent="Add to favorites"),localStorage.setItem("favorites",JSON.stringify(t)),q==="favorites"&&j(p)}function r(i){K()}function s(i){i.target===i.currentTarget&&(a.removeEventListener("click",s),a.querySelector(".close-icon img").removeEventListener("click",s),o.removeEventListener("click",l),a.querySelector(".buttons .rate").removeEventListener("click",r),a.style.display="none",w=null)}a.addEventListener("click",s),a.querySelector(".close-icon img").addEventListener("click",s),o.addEventListener("click",l),a.querySelector(".buttons .rate").addEventListener("click",r),a.style.display="flex"}function K(){a.style.display="none",S.style.display="flex",document.querySelector("#rate-overlay form").reset();function e(t){t.target===t.currentTarget&&(a.removeEventListener("click",e),a.querySelector(".close-icon img").removeEventListener("click",e),a.style.display="flex",S.style.display="none")}S.addEventListener("click",e),S.querySelector(".close-icon img").addEventListener("click",e)}O[0].addEventListener("click",()=>C("home"));O[1].addEventListener("click",()=>C("favorites"));document.querySelector("nav .nav-menu-toggle").addEventListener("click",()=>{L.style.display="flex"});document.querySelector(".close-mobile-menu").addEventListener("click",()=>{L.style.display="none"});document.querySelector(".mobile-middle").firstElementChild.firstElementChild.addEventListener("click",()=>{C("home"),L.style.display="none"});document.querySelector(".mobile-middle").lastElementChild.firstElementChild.addEventListener("click",()=>{C("favorites"),L.style.display="none"});let I;m.firstElementChild.addEventListener("input",e=>{for(clearTimeout(I);c.firstChild;)c.removeChild(c.firstChild);const t=document.createElement("p");t.classList.add("no-results"),t.textContent="Loading...",c.appendChild(t),I=setTimeout(async()=>{g=e.target.value.trim();const n=await A(f,p,g);b(n)},1e3)});document.querySelector("footer form").addEventListener("submit",async e=>{e.preventDefault();const t=document.querySelector("footer #email").value;try{const n=await fetch("https://your-energy.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:t})}),o=await n.json();if(!n.ok)throw new Error(o.message||"Something went wrong, please try again");alert(o.message),document.querySelector("footer form").reset()}catch(n){alert(n)}});let N;const E=document.querySelector("#rate-overlay #rating");E.addEventListener("input",()=>{clearTimeout(N),N=setTimeout(()=>{let e=parseFloat(E.value);if(isNaN(e)){E.value="";return}e=Math.min(Math.max(e,0),5),E.value=e.toFixed(2)},1e3)});document.querySelector("#rate-overlay form").addEventListener("submit",async e=>{e.preventDefault();const t=document.querySelector("#rate-overlay #email2").value,n=parseFloat(document.querySelector("#rate-overlay #rating").value),o=document.querySelector("#rate-overlay #comment").value;try{const l=await fetch(`https://your-energy.b.goit.study/api/exercises/${w}/rating`,{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({rate:n,email:t,review:o})}),r=await l.json();if(!l.ok)throw new Error(r.message||"Something went wrong, please try again");alert("Your feedback has been accepted. Thank you for contributing to our community!"),document.querySelector("#rate-overlay form").reset()}catch(l){alert(l)}});C("home");_("muscles");const R="dailyQuote",M="dailyQuoteDate";function U({quote:e,author:t}){document.querySelector(".quote .quote-text").textContent=e,document.querySelector(".quote .quote-author").textContent=t}function H(e){const t=new Date().toISOString().split("T")[0];return e===t}const $=localStorage.getItem(R),D=localStorage.getItem(M);$&&D&&H(D)?U(JSON.parse($)):fetch("https://your-energy.b.goit.study/api/quote",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(e=>e.json()).then(e=>{U(e),localStorage.setItem(R,JSON.stringify(e)),localStorage.setItem(M,new Date().toISOString().split("T")[0])}).catch(console.error);
//# sourceMappingURL=index.js.map
